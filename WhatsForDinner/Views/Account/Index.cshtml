@{
  Layout = "_Layout";
}

@using System.Security.Claims
@using WhatsForDinner.Models;
@model List<WhatsForDinner.Models.RecipeWeek>;

@if(User.Identity.IsAuthenticated)
{
  <p>Hello @User.Identity.Name!
    @using (Html.BeginForm("LogOff", "Account"))
  {
    <input type="submit" class="submit" value="Log out"/>
  }
  </p>
  <h2>Upcoming Recipes</h2>
  @if(Model.Count == 0){
    <p>No upcoming meals, create some meal plans to get started!</p>
  }
  else{
    <ul>
    <li>@Html.ActionLink($"{@Model[0].Week[0].Dinner.Title}", "Details", "Recipes", new {id = $"{@Model[0].Week[0].Dinner.RecipeId}"})</li>
    <li>@Html.ActionLink($"{@Model[0].Week[1].Dinner.Title}", "Details", "Recipes", new {id = $"{@Model[0].Week[1].Dinner.RecipeId}"})</li>
    <li>@Html.ActionLink($"{@Model[0].Week[2].Dinner.Title}", "Details", "Recipes", new {id = $"{@Model[0].Week[2].Dinner.RecipeId}"})</li>
  </ul>
  }


}

@*
else{
  <p>@Html.ActionLink("Register", "Register")</p>
  <p>@Html.ActionLink("Log In", "Login")</p>
  <p>@Html.ActionLink("Home", "Index", "Home")</p>
  <p>@Html.ActionLink("Recipe Calendar", "Calendar", "Recipes")</p>
} *@