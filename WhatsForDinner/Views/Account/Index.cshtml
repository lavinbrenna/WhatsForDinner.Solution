@{
  Layout = "_Layout";
}

@using System.Security.Claims
@using WhatsForDinner.Models;
@model List<WhatsForDinner.Models.RecipeWeek>;

@if(User.Identity.IsAuthenticated)
{
  <p>Hello @User.Identity.Name!</p>
  <h2>Upcoming Dinner Recipes</h2>
  @if(Model.Count == 0){
    <p>No upcoming meals, create some meal plans to get started!</p>
  }
  else{
    <h3 class="day">Thursday</h3>
    <p>@Html.ActionLink($"{@Model[3].Week[3].Dinner.Title}", "Details", "Recipes", new {id = $"{@Model[0].Week[0].Dinner.RecipeId}"})</p>
    <h3 class="day">Friday</h3>
    <p>@Html.ActionLink($"{@Model[3].Week[4].Dinner.Title}", "Details", "Recipes", new {id = $"{@Model[0].Week[1].Dinner.RecipeId}"})</p>
    <h3 class="day">Saturday</h3>
    <p>@Html.ActionLink($"{@Model[3].Week[5].Dinner.Title}", "Details", "Recipes", new {id = $"{@Model[0].Week[2].Dinner.RecipeId}"})</p>
  }
  @using (Html.BeginForm("LogOff", "Account"))
  {
    <input type="submit" class="submit" value="Log out"/>
  }

}

@*
else{
  <p>@Html.ActionLink("Register", "Register")</p>
  <p>@Html.ActionLink("Log In", "Login")</p>
  <p>@Html.ActionLink("Home", "Index", "Home")</p>
  <p>@Html.ActionLink("Recipe Calendar", "Calendar", "Recipes")</p>
} *@